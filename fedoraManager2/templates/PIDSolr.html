{% include 'header.html' %}
<p>This area is used to select objects from Fedora that will be acted upon by fedoraManager2.  After performing queries, select objects from the results either by clicking individual objects, or selecting all.  <strong>Note:</strong> when selecting PIDs, you can identify a "group" that will be searchable and filterable in the <a href="/PIDmanage">PID object management</a> screen.</p>

<div style="float:left; margin:auto;" id="solr_form">
    <h2>Solr Query & Select</h2>
    <form method="POST" action="/PIDSolr">
        <p>------ Native Solr Fields --------</p>
        {{ form.csrf_token }} 
        <table>
            <tr><td>{{ form.q.label }}</td><td> {{ form.q(size=60) }}</td></tr>                
            <tr><td>{{ form.fq.label }}</td> <td>{{ form.fq(size=60) }}</td></tr>
            <tr><td>{{ form.fl.label }}</td> <td>{{ form.fl(size=60) }}</td></tr>
        </table>
        <p>------ Fedora Relationships --------</p>       
        <!-- forms attempt -->
        <table>
            <tr><td>{{ form.collection_object.label }}</td><td>{{ form.collection_object }}</td></tr>
            <tr><td>{{ form.content_model.label }}</td><td>{{ form.content_model }}</td></tr>
        </table>        
        <input type="submit" value="Submit">
    </form>
</div>

<div style="float:right; margin:auto;" id="actions">
    <h2>actions</h2>
    <button id="sendSelPIDs">Add Selected</button>
    <button id="sendAllPIDs">Add ALL</button>
    <span> / </span>
    <button id="removeSelPIDs">Remove Selected</button>
    <button id="removeAllPIDs">Remove ALL</button><br><br>
    Group name: <input id="group_name"></input>
</div>

<div style="clear:both;">
    <h2>results</h2>

    {% if q_results %}
    <div>
        <table id="PIDtable" class="display" cellspacing="0" width="100%">            
            <thead>
                <tr>
                    <th>PID</th>
                    <th>dc_title</th>            
                </tr>
            </thead>
        </table>
    </div>
    {% endif %}
</div>

<script type="text/javascript" src="{{ url_for('static',filename='PIDSolr.js')}}"></script>
{% if json_output %}
<script type="text/javascript">
    $(document).ready(function(){        
        var json_output = {{json_output|safe}};        
        paintTable(json_output);
    });    
</script>
{% endif %}

{% include 'footer.html' %}
